2_개발__6_외부시스템 연계 필수 지식



외부 시스템 연계는 자주 발생 

외부 사람들 만나는 상황

단순한 개념 이해만 하면 됨

관련 협의 프로세스 및 실례



## SSO

- 한 번의 인증 이후 해당 인증을 인정하는 각 사이트에 별도 인증 없이 로그인

- 내가 만든 시스템과 **기존의 시스템의 로그인 연계**를 말할 때 많이 씀

1. ID/이름을 넘겨주고 무조건 로그인 시키는 방법
2. 인증 시스템 연결을 통한 인증 체크
3. ID 넘겨주고, B시스템에 등록된 ID 혹은 ID 맵핑 테이블과 비교 확인



## 외부 시스템 연계 케이스

외부시스템1 => 우리 시스템 (로그인 연결)

1. 로그인 연결(IN)
2. 정보의 수집(처리)
3. 정보의 전달(처리)
4. 로그인 연결(OUT)



## 정보 수집 연계 케이스

정보의 수집 

- 장학금 시스템

- 학생 성적 관리 시스템 API
  - 학생 성적 관리 시스템

1. 학생의 학점을 알려주는 서비스 호출(API)
2. 사전 정의된 약속대로 정보를 호출함(API 이름, Input 파라미터)
3. 상대 시스템은 전달 받은 정보 기준 결과 반환 (Output 파라미터 or 리턴 값)
4. 결과로 받은 값을 사전에 정의된 약속대로 이용함

I/F 정의서, Interface연계 문서



## 인터페이스 문서 구성

인터페이스 정의서는 정보를 보내는 사람이 만들어서 받는 사람에게 전달이 기본

인터페이스 명(호출을 위한 URL) => www.naver.com/디렉토리/인터페이스명

Input 파라미터(정보 조회를 위한 조건 정의) => stdNo(학번, string), Year(조회년도, int)

OUT 파라미터(정보를 반환하는 조건 정의) => point(학점, float), error(예외정보, string)

인터페이스 방식  => Restful API 방식, JSON 형식



## 정보 수집 연계 협의 방법

- 연계는 항상 양쪽의 개발을 필요로 함. 그러므로, 한쪽에서 일방적으로 요구할 수 있는 것이 아님.
- 사전에 양사(양쪽)간의 연계를 하겠다는 매너있는 협의가 필수임

1. 내가 필요한 정보가 무엇인지 정확히 전달(ex. 학생의 학점 정보)

2. 상대쪽에서 해당 정보를 줄 수 있는지 확인(ex. 내 학점 정보를 줄 수 있습니다.)

3. 상대방의 정보를 받기 위해 내가 전달 할 조건 체크(ex. 학점 전달을 위해 학번과 년도 정보를 주셔야 합니다.)

4. 협의된 내용 기준 작업 일정 협의 및 인터페이스 정의서 확정



개발리더 : 인증 문제 해결, 네트워크 보안/연결 문제 해결



## 정보 전달 연계 케이스

정보의 전달 => 장학금 시스템 API

1. 장학금 정보를 전달 할 서비스 준비(API)
2. 호출 받은 정보의 확인 (API 이름, Input 파라미터)
3. 확인 받은 정보대로 정보 누출(비즈니스 로직)
4. 약속된 규격대로 정보 전달(Output 파라미터 or 리턴 값)



## 연계 필수 체크 사항

네트워크 연결 확보 가능 여부 - 방화벽 정책

보안 관련 정보 검토 - 데이터 암호화, 인증 등

예외 상황에 대한 확실한 협의

진행 일정





## Restful API

- 비개발자 입장에서 서비스 연계를 위해서 REST API라는 방식을 쓰며, 여러 연계 방식 중 가장 널리 쓰고 있다.
- REST는?
  - Representationsal State Transfer의 약자
  - HTTP를 표준 약속을 따라서, 최대한 활용을 잘 하기 위해 정의된 규약
- REST API는?
  - REST라는 표현 방식을 따르는 API를 REST API
- RESTful 혹은 RESTful API는?
  - REST API 중 REST 표현 방식을 잘 따라서 만든 API
- REST API : HTTP(인터넷)을 통해 API를 이용할 때, 더 일을 잘 하기 위해 만들어 지키는 서로 간의 약속



## REST API 샘플

생성(Create) => Post

조회(Read) => Get

수정(Update) => PUT

삭제(Delete) => Delete





## XML, JSON

XML, JSON - **정보를 표현**하는 방식

XML 예제(이름이 불꽃남자) ex) <name>불꽃남자25</name>

REST API 사용시 Json을 이용함



## 매핑(데이터 매핑)

시스템을 연계 하다 보면, 주고 받은 **정보의 종류**는 같지만 실제 이용되는 갑싱 다른 경우가 많다.
A와 B가 같다고 매핑해줌. 바꿔서 나에게 정보를 넘겨줘.

한국 - 대한민국

중화인민공화국 - 중국





## 실전 체크 사항

- 이번에 우리 시스템이랑 저쪽 시스템이랑 SSO 진행해야 하나요?
  - 네 인증확인하고 ID 전달 받고 연계하는 방식으로 진행하기로 했습니다.

- 정보를 어떤 기준으로 매핑할까요? 국가명 받는 그대로 보여드려요? 아니면 저희 정보로 매핑 시켜야 해요?
  - 우리 회사 방식으로 매핑시켜주시기 바랍니다. 매핑 정보가 필요하다면 저희쪽에서 작성해 드리겠습니다.
- 요번에 API는 REST API 방식으로 진행하겠습니다ㅣ.